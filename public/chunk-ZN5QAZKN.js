import{f as L,u as S}from"./chunk-XZGO7AMH.js";import{Ga as a,Ha as c,Xa as b,Y as d,Za as v,ba as g,bb as s,bc as I,c as p,cb as n,dc as w,gb as x,ha as m,jb as l,lb as k,qa as f,ra as h,rb as u,sb as C,tb as _,zb as y}from"./chunk-SQWIEUAN.js";var j=(()=>{let e=class e{constructor(t){this.auth=t,this.usuarioLogueado=null,this.auth.onAuthStateChanged(o=>{this.usuarioLogueado=o,console.log("servicio auth usuario logueado",o)})}getCurrentUser(){return new p(t=>{t.next(this.usuarioLogueado)})}logout(){return this.auth.signOut()}};e.\u0275fac=function(o){return new(o||e)(g(S))},e.\u0275prov=d({token:e,factory:e.\u0275fac,providedIn:"root"});let r=e;return r})();function T(r,e){if(r&1){let M=x();s(0,"button",4),l("click",function(){f(M);let o=k();return h(o.navegar(o.url))}),u(1,"Atr\xE1s"),n()}}var F=(()=>{let e=class e{constructor(t,o){this.authService=t,this.router=o,this.usuarioLogueado=null,this.retorno=!0,this.url=""}ngOnInit(){this.authService.getCurrentUser().subscribe(t=>{t?this.usuarioLogueado=t?.email:this.usuarioLogueado=null})}logout(){this.authService.logout().then(()=>{this.router.navigate(["./login"])}).catch(t=>{console.error("Error al cerrar sesi\xF3n:",t)})}botonAtras(){switch(this.router.url){case"/home":this.retorno=!1;break;case"/registro":this.retorno=!1;break;case"/ahorcado":case"/mayormenor":case"/preguntados":this.url="/juegos",this.retorno=!0;break;default:this.url="/home",this.retorno=!0;break}return this.retorno}getButtonText(){return this.usuarioLogueado?"cerrar sesi\xF3n":"login"}navegar(t){this.router.navigate([t])}};e.\u0275fac=function(o){return new(o||e)(c(j),c(L))},e.\u0275cmp=m({type:e,selectors:[["app-navbar"]],standalone:!0,features:[y],decls:6,vars:3,consts:[[1,"navbar"],[1,"welcome-text"],[1,"logout-button",3,"click"],["class","volver-button",3,"click",4,"ngIf"],[1,"volver-button",3,"click"]],template:function(o,i){o&1&&(s(0,"nav",0)(1,"p",1),u(2),n(),s(3,"button",2),l("click",function(){return i.logout()}),u(4),n(),b(5,T,2,0,"button",3),n()),o&2&&(a(2),_("Bienvenido ",i.usuarioLogueado,""),a(2),C(i.getButtonText()),a(),v("ngIf",i.botonAtras()))},dependencies:[w,I],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center;padding:0;background-color:#4a126e73}.logout-button[_ngcontent-%COMP%]{background-color:#061855;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:6px 5px;cursor:pointer;border-radius:10px;order:1}.volver-button[_ngcontent-%COMP%]{background-color:#061855;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:6px 5px;cursor:pointer;border-radius:10px}.welcome-text[_ngcontent-%COMP%]{margin-top:10px;margin-right:50px;color:#fff;font-size:16px}"]});let r=e;return r})();export{j as a,F as b};
